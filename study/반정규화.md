# 반정규화

### 🐻 *반정규화 개념*

- 반정규화는 시스템의 성능을 향상하고 개발 및 운영의 편의성 등을 높이기 위해 정규화 된 데이터 모델을 의도적으로 통합, 중복, 분리하여 정규화 원칙을 위배하는 행위
- 반정규화를 수행하면 시스템의 성능이 향상되고 관리 효율성은 증가하지만, 데이터의 일관성 및 정합성이 저하될 수 있음
- 과도한 반정규화는 오히려 성능을 저하시킬 수 있음
- 반정규화 방법
    
    👉 테이블 통합
    
    👉 테이블 분할
    
    👉 중복 테이블 추가
    
    👉 중복 속성 추가
    

### *1. 테이블 통합*

- 두 개의 테이블이 join 되어 사용하는 경우가 많을 경우, 성능 향상을 위해 아예 하나의 테이블로 만들어 사용하는 것
- 테이블 통합을 고려하는 경우
    - 두 개의 테이블에서 발생하는 프로세스가 동일하게 자주 처리되는 경우
    - 항상 두 개의 테이블을 사용하여 조회를 수행하는 경우
- 테이블 통합의 종류
    - 1:1 관계 테이블 통합
    - 1:N 관계 테이블 통합
    - 슈퍼타입(상위개체) / 서브타입(하위개체) 테이블 통합
    

### *2. 테이블 분할*

- 테이블 분할은 테이블을 수직 / 수평으로 분할하는 것
- **수평분할**
    - 레코드(Record)를 기준으로 테이블을 분할하는 것 👉 행
    - 레코드 별로 사용 빈도의 차이가 큰 경우, 사용 빈도에 따라 테이블을 분할함
- **수직분할**
    - 하나의 테이블에 속성이 너무 많을 경우, 속성을 기준으로 테이블을 분할 하는 것 👉 열
    - 종류
        - 갱신 위주의 속성 분할
        - 자주 조회되는 속성 분할
        - 크기가 큰 속성 분할
        - 보안을 적용해야 하는 속성 분할
        

### *3. 중복 테이블 추가*

- 중복 테이블 추가는 작업의 효율성 향상을 위해 테이블을 추가 하는 것
- 중복 테이블을 추가하는 경우
    - 여러 테이블에서 데이터를 추출하여 사용해야 할 경우
    - 다른 서버에 저장된 테이블을 이용해야 하는 경우
- 중복 테이블 추가 방법
    - 집계 테이블 추가 : 집계 데이터를 위한 테이블을 생성, 각 원본에 트리거를 설정하여 사용
    - 진행 테이블 추가 : 이력 관리 등의 목적으로 추가하는 테이블
    - 특정 부분만을 포함하는 테이블 추가 : 데이터가 많은 테이블의 특정 부분만 사용하는 경우
    

### *4. 중복 속성 추가*

- 중복 속성 추가는 join하여 데이터를 처리할 때, 데이터를 조회하는 경로를 단축하기 위해 자주 사용하는 속성을 하나 더 추가하는 것
- 중복 속성을 추가하면 데이터의 무결성 확보가 어렵고 디스크 공간이 추가로 필요함
- 중복 속성을 추가하는 경우
    - join이 자주 발생하는 속성인 경우
    - 접근 경로가 복잡한 속성인 경우
    - 액세스 조건으로 자주 사용되는 속성인 경우
    - 기본키의 형태가 적절하지 않거나 여러 개의 속성으로 구성 된 경우
    

#### 👉 노션 : https://www.notion.so/df74762ed1e94e51a762a0aa81747be2
