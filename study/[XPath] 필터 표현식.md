# [**XPath] ν•„ν„° ν‘ν„μ‹**

**ν•„ν„° ν‘ν„μ‹(filter expressions)**

XPathμ—μ„λ” νΉμ • λ…Έλ“λ‚ νΉμ • κ°’μ„ ν¬ν•¨ν•λ” λ…Έλ“λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ ν•„ν„° ν‘ν„μ‹μ„ μ‚¬μ©ν•λ‹¤.
ν•„ν„° ν‘ν„μ‹μ€ μ–Έμ λ‚ λ€κ΄„νΈ([])μ•μ— ν‘ν„λλ‹¤. 

μ΄λ¬ν• ν•„ν„° ν‘ν„μ‹μ— XPath ν•¨μλ¥Ό μ‚¬μ©ν•λ©΄ λ”μ± μμ„Έν• ν•„ν„°λ§μ„ ν•  μ μλ‹¤.

*μμ *

```xml
p_languages/language[1]              : <p_languages>μ”μ†μ μμ‹ λ…Έλ“ μ¤‘ μ²« λ²μ§Έ <language>μ”μ†λ¥Ό μ„ νƒν•¨.
p_languages/language[position() < 3] : <p_languages>μ”μ†μ μμ‹ λ…Έλ“ μ¤‘ μ²μ λ‘ κ°μ <language>μ”μ†λ¥Ό μ„ νƒν•¨.
p_languages/language[last()]         : <p_languages>μ”μ†μ μμ‹ λ…Έλ“ μ¤‘ λ§μ§€λ§‰ <language>μ”μ†λ¥Ό μ„ νƒν•¨.
//priority[@rating]                  : rating μ†μ„±μ„ κ°€μ§€κ³  μλ” <priority>μ”μ†λ¥Ό λ¨λ‘ μ„ νƒν•¨.
//priority[@rating = 3]              : rating μ†μ„±μ μ†μ„±κ°’μ΄ 3μΈ <priority>μ”μ†λ¥Ό λ¨λ‘ μ„ νƒν•¨.
count(//language)                    : λ¨λ“  <language>μ”μ†μ κ°μλ¥Ό λ°ν™ν•¨.
```

---

**XPath ν•¨μ**

XPath ν•¨μλ” μ„ νƒλ λ…Έλ“μ…‹μ„ ν‰κ°€ν•μ—¬ μ΅°κ±΄μ— λ§λ” λ…Έλ“λ¥Ό μ‹ν€€μ¤ ν•νƒλ΅ λ°ν™ν•λ‹¤.

κ°€μ¥ λ§μ΄ μ‚¬μ©λλ” XPath ν•¨μλ” λ‹¤μκ³Ό κ°™λ‹¤.

| XPath ν•¨μ | μ„¤λ… |
| --- | --- |
| position() | ν„μ¬ λ…Έλ“μ…‹ μ•μ—μ„μ λ…Έλ“μ μ„μΉλ¥Ό λ°ν™ν•¨ |
| last() | ν„μ¬ λ…Έλ“μ…‹μ λ§μ§€λ§‰ λ…Έλ“λ¥Ό λ°ν™ν•¨ |
| count(μ„μΉκ²½λ΅) | μ§€μ •λ λ…Έλ“μ…‹μ μ΄ λ…Έλ“ κ°μλ¥Ό λ°ν™ν•¨ |
| name() | ν„μ¬ λ…Έλ“μ μ΄λ¦„μ„ λ°ν™ν•¨ |
| name(μ„μΉκ²½λ΅) | μ§€μ •λ λ…Έλ“μ…‹μ μ²« λ²μ§Έ λ…Έλ“λ¥Ό λ°ν™ |

XPath ν•¨μμ— λ€ν• λ” μμ„Έν• μ •λ³΄λ¥Ό μ›ν•λ‹¤λ©΄ W3C κ³µμ‹ μ‚¬μ΄νΈλ¥Ό λ°©λ¬Έν•μ—¬ ν™•μΈν•  μ μλ‹¤.

[XPath and XQuery Functions and OperatorsΒ 3.1 =>](https://www.w3.org/TR/xpath-functions-31/)

---

**μ„μ λ¬Έμ κΈ°νΈ(wild card)**

XPathμ—μ„λ” μ„μμ λ…Έλ“λ¥Ό μ„ νƒν•κΈ° μ„ν•΄ μ„μ λ¬Έμ κΈ°νΈλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

| μ„μ λ¬Έμ κΈ°νΈ | μ„¤λ… |
| --- | --- |
| * | μ–΄λ– ν• μ”μ† λ…Έλ“μ™€λ„ μΌμΉν•¨ |
| @* | μ–΄λ– ν• μ†μ„± λ…Έλ“μ™€λ„ μΌμΉν•¨ |
| node() | μ–΄λ– ν• μΆ…λ¥μ μ–΄λ–¤ λ…Έλ“μ™€λ„ μΌμΉν•¨ |
| text() | μ–΄λ– ν• ν…μ¤νΈ λ…Έλ“μ™€λ„ μΌμΉν•¨ |

*μμ *

```xml
../*           : ν„μ¬ λ…Έλ“μ λ¶€λ¨ λ…Έλ“μ μμ‹ μ”μ† λ…Έλ“λ¥Ό λ¨λ‘ μ„ νƒν•¨.
//*            : ν„μ¬ λ¬Έμ„μ λ¨λ“  μ”μ† λ…Έλ“λ¥Ό μ„ νƒν•¨.
//priority[@*] : μ–΄λ– ν• μΆ…λ¥μ μ†μ„± λ…Έλ“λΌλ„ μ μ–΄λ„ ν•λ‚ μ΄μƒ κ°€μ§€κ³  μλ” <priority>μ”μ†λ¥Ό λ¨λ‘ μ„ νƒν•¨.
```

---

**μ—°μ‚°μ(operator)**

XPath ν‘ν„μ‹μ—μ„ μ‚¬μ©ν•  μ μλ” λ€ν‘μ μΈ μ—°μ‚°μλ” λ‹¤μκ³Ό κ°™λ‹¤.

| μ—°μ‚°μ | μ„¤λ… | λ°ν™ νƒ€μ… |
| --- | --- | --- |
| - | μμ λ¶€νΈ (λ‹¨ν•­ μ—°μ‚°μ) | μ«μ(number) |
| *, div, mod | κ³±μ…, λ‚λ—μ…, λ‚λ¨Έμ§€ μ—°μ‚° | μ«μ(number) |
| +, - | λ§μ…, λΊ„μ… | μ«μ(number) |
| <, <=, >, > = | λΉ„κµ μ—°μ‚° | λ¶λ¦¬μ–Έ |
| =, ! = | λ“±κ°€ λΉ„κµ μ—°μ‚° | λ¶λ¦¬μ–Έ |
| and | λ…Όλ¦¬ AND μ—°μ‚° | λ¶λ¦¬μ–Έ |
| or | λ…Όλ¦¬ OR μ—°μ‚° | λ¶λ¦¬μ–Έ |
| | | μ—¬λ¬ κ°μ λ…Έλ“μ…‹μ„ λ™μ‹μ— κ³„μ‚°ν•¨ | λ…Έλ“μ…‹ |

*μμ *

```xml
//language/name | //language/version  : λ¨λ“  <language>μ”μ†μ <name>μ”μ†μ™€ <version>μ”μ†λ¥Ό λ¨λ‘ μ„ νƒν•¨.
//name | //version                    : ν„μ¬ λ¬Έμ„μ <name>μ”μ†μ™€ <version>μ”μ†λ¥Ό λ¨λ‘ μ„ νƒν•¨.
/language/version/@status | //version : <language>μ”μ†μ <version>μ”μ†μ status μ†μ„±μ„ λ¨λ‘ μ„ νƒν•κ³ ,
                                        ν„μ¬ λ¬Έμ„μ <version>μ”μ†λ„ λ¨λ‘ μ„ νƒν•¨.
```

<aside>
π’΅ μ„μ ν‘μ—μ„ μ—°μ‚°μμ μ°μ„ μμ„λ” μ•„λμ—μ„λ¶€ν„° μ„μ½μΌλ΅ μ¦κ°€ν•λ‹¤. 
μ¦‰, λ§¨ μ„μ μμ λ¶€νΈκ°€ κ°€μ¥ μ°μ„ μμ„κ°€ λ†’μΌλ©°, | μ—°μ‚°μκ°€ κ°€μ¥ μ°μ„ μμ„κ°€ λ‚®λ‹¤.

</aside>

<br><br>
π‘‰ λ…Έμ… : https://www.notion.so/tgmary09/XPath-c204fb0f6bd642648d850e4ba732c918
<br>
π‘‰ μ¶μ² : [http://www.tcpschool.com/xml/xml_xpath_filterExpression](http://www.tcpschool.com/xml/xml_xpath_filterExpression)
